function D(){}function tn(t,n){for(const e in n)t[e]=n[e];return t}function Lt(t){return t()}function Mt(){return Object.create(null)}function G(t){t.forEach(Lt)}function gt(t){return typeof t=="function"}function nn(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}function en(t){return Object.keys(t).length===0}function At(t,...n){if(t==null)return D;const e=t.subscribe(...n);return e.unsubscribe?()=>e.unsubscribe():e}function Tn(t){let n;return At(t,e=>n=e)(),n}function Ln(t,n,e){t.$$.on_destroy.push(At(n,e))}function Mn(t,n,e,r){if(t){const i=Vt(t,n,e,r);return t[0](i)}}function Vt(t,n,e,r){return t[1]&&r?tn(e.ctx.slice(),t[1](r(n))):e.ctx}function Vn(t,n,e,r){if(t[2]&&r){const i=t[2](r(e));if(n.dirty===void 0)return i;if(typeof i=="object"){const o=[],u=Math.max(n.dirty.length,i.length);for(let a=0;a<u;a+=1)o[a]=n.dirty[a]|i[a];return o}return n.dirty|i}return n.dirty}function Cn(t,n,e,r,i,o){if(i){const u=Vt(n,e,r,o);t.p(u,i)}}function Dn(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let r=0;r<e;r++)n[r]=-1;return n}return-1}function Fn(t){return t&&gt(t.destroy)?t.destroy:D}let ct=!1;function rn(){ct=!0}function on(){ct=!1}function un(t,n,e,r){for(;t<n;){const i=t+(n-t>>1);e(i)<=r?t=i+1:n=i}return t}function an(t){if(t.hydrate_init)return;t.hydrate_init=!0;let n=t.childNodes;if(t.nodeName==="HEAD"){const c=[];for(let f=0;f<n.length;f++){const h=n[f];h.claim_order!==void 0&&c.push(h)}n=c}const e=new Int32Array(n.length+1),r=new Int32Array(n.length);e[0]=-1;let i=0;for(let c=0;c<n.length;c++){const f=n[c].claim_order,h=(i>0&&n[e[i]].claim_order<=f?i+1:un(1,i,$=>n[e[$]].claim_order,f))-1;r[c]=e[h]+1;const v=h+1;e[v]=c,i=Math.max(v,i)}const o=[],u=[];let a=n.length-1;for(let c=e[i]+1;c!=0;c=r[c-1]){for(o.push(n[c-1]);a>=c;a--)u.push(n[a]);a--}for(;a>=0;a--)u.push(n[a]);o.reverse(),u.sort((c,f)=>c.claim_order-f.claim_order);for(let c=0,f=0;c<u.length;c++){for(;f<o.length&&u[c].claim_order>=o[f].claim_order;)f++;const h=f<o.length?o[f]:null;t.insertBefore(u[c],h)}}function cn(t,n){if(ct){for(an(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;n!==t.actual_end_child?(n.claim_order!==void 0||n.parentNode!==t)&&t.insertBefore(n,t.actual_end_child):t.actual_end_child=n.nextSibling}else(n.parentNode!==t||n.nextSibling!==null)&&t.appendChild(n)}function qn(t,n,e){ct&&!e?cn(t,n):(n.parentNode!==t||n.nextSibling!=e)&&t.insertBefore(n,e||null)}function sn(t){t.parentNode.removeChild(t)}function ln(t){return document.createElement(t)}function xt(t){return document.createTextNode(t)}function In(){return xt(" ")}function Hn(){return xt("")}function Rn(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function fn(t){return Array.from(t.childNodes)}function dn(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function Ct(t,n,e,r,i=!1){dn(t);const o=(()=>{for(let u=t.claim_info.last_index;u<t.length;u++){const a=t[u];if(n(a)){const c=e(a);return c===void 0?t.splice(u,1):t[u]=c,i||(t.claim_info.last_index=u),a}}for(let u=t.claim_info.last_index-1;u>=0;u--){const a=t[u];if(n(a)){const c=e(a);return c===void 0?t.splice(u,1):t[u]=c,i?c===void 0&&t.claim_info.last_index--:t.claim_info.last_index=u,a}}return r()})();return o.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,o}function mn(t,n,e,r){return Ct(t,i=>i.nodeName===n,i=>{const o=[];for(let u=0;u<i.attributes.length;u++){const a=i.attributes[u];e[a.name]||o.push(a.name)}o.forEach(u=>i.removeAttribute(u))},()=>r(n))}function Bn(t,n,e){return mn(t,n,e,ln)}function hn(t,n){return Ct(t,e=>e.nodeType===3,e=>{const r=""+n;if(e.data.startsWith(r)){if(e.data.length!==r.length)return e.splitText(r.length)}else e.data=r},()=>xt(n),!0)}function Pn(t){return hn(t," ")}function Un(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let st;function lt(t){st=t}function ft(){if(!st)throw new Error("Function called outside component initialization");return st}function zn(t){ft().$$.on_mount.push(t)}function Xn(t){ft().$$.after_update.push(t)}function Gn(t,n){ft().$$.context.set(t,n)}function Jn(t){return ft().$$.context.get(t)}const et=[],Dt=[],dt=[],Ft=[],vn=Promise.resolve();let Et=!1;function yn(){Et||(Et=!0,vn.then(qt))}function $t(t){dt.push(t)}let kt=!1;const St=new Set;function qt(){if(!kt){kt=!0;do{for(let t=0;t<et.length;t+=1){const n=et[t];lt(n),pn(n.$$)}for(lt(null),et.length=0;Dt.length;)Dt.pop()();for(let t=0;t<dt.length;t+=1){const n=dt[t];St.has(n)||(St.add(n),n())}dt.length=0}while(et.length);for(;Ft.length;)Ft.pop()();Et=!1,kt=!1,St.clear()}}function pn(t){if(t.fragment!==null){t.update(),G(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach($t)}}const mt=new Set;let U;function Kn(){U={r:0,c:[],p:U}}function Wn(){U.r||G(U.c),U=U.p}function _n(t,n){t&&t.i&&(mt.delete(t),t.i(n))}function Qn(t,n,e,r){if(t&&t.o){if(mt.has(t))return;mt.add(t),U.c.push(()=>{mt.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function Yn(t,n){const e={},r={},i={$$scope:1};let o=t.length;for(;o--;){const u=t[o],a=n[o];if(a){for(const c in u)c in a||(r[c]=1);for(const c in a)i[c]||(e[c]=a[c],i[c]=1);t[o]=a}else for(const c in u)i[c]=1}for(const u in r)u in e||(e[u]=void 0);return e}function Zn(t){return typeof t=="object"&&t!==null?t:{}}function te(t){t&&t.c()}function ne(t,n){t&&t.l(n)}function bn(t,n,e,r){const{fragment:i,on_mount:o,on_destroy:u,after_update:a}=t.$$;i&&i.m(n,e),r||$t(()=>{const c=o.map(Lt).filter(gt);u?u.push(...c):G(c),t.$$.on_mount=[]}),a.forEach($t)}function gn(t,n){const e=t.$$;e.fragment!==null&&(G(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function An(t,n){t.$$.dirty[0]===-1&&(et.push(t),yn(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function ee(t,n,e,r,i,o,u,a=[-1]){const c=st;lt(t);const f=t.$$={fragment:null,ctx:null,props:o,update:D,not_equal:i,bound:Mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(c?c.$$.context:[])),callbacks:Mt(),dirty:a,skip_bound:!1,root:n.target||c.$$.root};u&&u(f.root);let h=!1;if(f.ctx=e?e(t,n.props||{},(v,$,...S)=>{const L=S.length?S[0]:$;return f.ctx&&i(f.ctx[v],f.ctx[v]=L)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](L),h&&An(t,v)),$}):[],f.update(),h=!0,G(f.before_update),f.fragment=r?r(f.ctx):!1,n.target){if(n.hydrate){rn();const v=fn(n.target);f.fragment&&f.fragment.l(v),v.forEach(sn)}else f.fragment&&f.fragment.c();n.intro&&_n(t.$$.fragment),bn(t,n.target,n.anchor,n.customElement),on(),qt()}lt(c)}class re{$destroy(){gn(this,1),this.$destroy=D}$on(n,e){const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!en(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const J=[];function xn(t,n){return{subscribe:rt(t,n).subscribe}}function rt(t,n=D){let e;const r=new Set;function i(a){if(nn(t,a)&&(t=a,e)){const c=!J.length;for(const f of r)f[1](),J.push(f,t);if(c){for(let f=0;f<J.length;f+=2)J[f][0](J[f+1]);J.length=0}}}function o(a){i(a(t))}function u(a,c=D){const f=[a,c];return r.add(f),r.size===1&&(e=n(i)||D),a(t),()=>{r.delete(f),r.size===0&&(e(),e=null)}}return{set:i,update:o,subscribe:u}}function It(t,n,e){const r=!Array.isArray(t),i=r?[t]:t,o=n.length<2;return xn(e,u=>{let a=!1;const c=[];let f=0,h=D;const v=()=>{if(f)return;h();const S=n(r?c[0]:c,u);o?u(S):h=gt(S)?S:D},$=i.map((S,L)=>At(S,vt=>{c[L]=vt,f&=~(1<<L),a&&v()},()=>{f|=1<<L}));return a=!0,v(),function(){G($),h()}})}function x(t){return Object.prototype.toString.call(t)==="[object Object]"}function C(t){return Object.keys(t||{}).reduce((n,e)=>Object.assign(Object.assign({},n),{[e]:x(t[e])?C(t[e]):Array.isArray(t[e])?[...t[e]]:t[e]}),{})}function F(t,n){return function(e,r){return Object.keys(e).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r(e[o])}),{})}(t,e=>x(e)?F(e,n):Array.isArray(e)?e.map(function(r){return function(i){return x(i)?F(i,r):r}}(n)):n)}function q(...t){const n=t.pop(),e=C(t.shift());if(t.length===0)return e;for(const r of t){if(!r)continue;const i=Object.keys(r);for(const o of i){const u=n(e[o],r[o]);if(u!==void 0)e[o]=u;else if(x(r[o])&&x(e[o]))e[o]=q(e[o],r[o],n);else if(Array.isArray(r[o]))e[o]=r[o].map((a,c)=>x(a)?q(Array.isArray(e[o])?e[o][c]:e[o],a,n):a);else if(x(r[o])){const a=F(C(r[o]),void 0);e[o]=q(a,r[o],n)}else r[o]!==void 0&&(e[o]=r[o])}}return e}function En(t,n){if(!x(t)||!x(n)){if(Array.isArray(n)){if(n.some(x))return;const e=Array.isArray(t)?t:[];return n.map((r,i)=>{var o;return(o=e[i])!==null&&o!==void 0?o:r})}return t!==void 0?t:void 0}}function Ht(...t){return q(...t,En)}function $n(...t){return q(...t,()=>{})}function K(t,n,e){const r=o=>String.prototype.split.call(n,o).filter(Boolean).reduce((u,a)=>u!=null?u[a]:u,t),i=r(/[,[\]]+?/)||r(/[,[\].]+?/);return i===void 0||i===t?e:i}function k(t,n,e){Object(t)!==t?t={}:t!==void 0&&(t=C(t));let r=Array.isArray(n)?n:n.toString().match(/[^.[\]]+/g)||[];return r.slice(0,-1).reduce((i,o,u)=>Object(i[o])===i[o]?i[o]:i[o]=Math.abs(Number(r[u+1]))>>0==+r[u+1]?[]:{},t)[r[r.length-1]]=e,t}function kn(t,n){var e;if(Object(t)!==t)return;t!==void 0&&(t=C(t));let r=Array.isArray(n)?n:n.toString().match(/[^.[\]]+/g)||[];return(e=r.slice(0,-1).reduce((i,o)=>Object(i[o])===i[o]?i[o]:void 0,t))===null||e===void 0||delete e[r[r.length-1]],t}function Sn(t,n,e){Object(t)!==t&&(t={});let r=n.toString().match(/[^.[\]]+/g)||[];return r.slice(0,-1).reduce((i,o,u)=>Object(i[o])===i[o]?i[o]:i[o]=Math.abs(Number(r[u+1]))>>0==+r[u+1]?[]:{},t)[r[r.length-1]]=e(K(t,n)),t}function jt(t,n){return function(e,r){return Object.keys(e).some(i=>r(e[i]))}(t,e=>x(e)?jt(e,n):n(e))}function W(t){return t.hasAttribute("data-felte-index")?Number(t.dataset.felteIndex):void 0}function I(t){var n;return((n=t)===null||n===void 0?void 0:n.nodeName)==="INPUT"}function Rt(t){var n;return((n=t)===null||n===void 0?void 0:n.nodeName)==="TEXTAREA"}function it(t){var n;return((n=t)===null||n===void 0?void 0:n.nodeName)==="SELECT"}function ot(t){var n;return((n=t)===null||n===void 0?void 0:n.nodeName)==="FIELDSET"}function g(t){return I(t)||Rt(t)||it(t)}function Bt(t){return t.nodeType===Node.ELEMENT_NODE}function E(t,n){const e=W(t);let r="";n?r=n:g(t)&&(r=t.name),r=e===void 0?r:`${r}[${e}]`;let i=t.parentNode;if(!i)return r;for(;i&&i.nodeName!=="FORM";){if(ot(i)&&i.name){const o=W(i);r=`${o===void 0?i.name:`${i.name}[${o}]`}.${r}`}i=i.parentNode}return r}function jn(t){const n=t.dataset.felteFieldset,e=W(t),r=e===void 0?t.name:`${t.name}[${e}]`;return n?`${n}.${r}`:r}function ht(t){let n=t;for(;n&&n.nodeName!=="FORM";){if(n.hasAttribute("data-felte-ignore"))return!0;n=n.parentElement}return!1}function Ot(t){if(g(t))return[t];if(t.childElementCount===0)return[];const n=new Set;for(const e of t.children){if(g(e)&&n.add(e),ot(e))for(const r of e.elements)g(r)&&n.add(r);e.childElementCount>0&&Ot(e).forEach(r=>n.add(r))}return Array.from(n)}function Pt(t){for(const n of t.elements)if(g(n)||ot(n)){if(t.name&&n.name){const e=W(t),r=e===void 0?t.name:`${t.name}[${e}]`;n.dataset.felteFieldset=t.dataset.felteFieldset?`${t.dataset.felteFieldset}.${r}`:r}t.dataset.felteUnsetOnRemove!=="true"||n.hasAttribute("data-felte-unset-on-remove")||(n.dataset.felteUnsetOnRemove="true")}}function Nt(t){return t.type.match(/^(number|range)$/)?t.value?+t.value:void 0:t.value}function Ut(t){var n;let e={};for(const r of t.elements){if(ot(r)&&Pt(r),!g(r)||!r.name)continue;const i=E(r),o=W(r);if(I(r)){if(r.type==="checkbox"){if(K(e,i)===void 0){if(Array.from(t.querySelectorAll(`[name="${r.name}"]`)).filter(a=>!!g(a)&&(o!==void 0?Number(a.dataset.felteIndex)===o:i===E(a))).length===1){e=k(e,i,r.checked);continue}e=k(e,i,r.checked?[r.value]:[]);continue}Array.isArray(K(e,i))&&r.checked&&Sn(e,i,a=>(o===void 0||Array.isArray(a)||(a=[]),[...a,r.value]));continue}if(r.type==="radio"){if(K(e,i))continue;e=k(e,i,r.checked?r.value:void 0);continue}if(r.type==="file"){e=k(e,i,r.multiple?Array.from(r.files||[]):(n=r.files)===null||n===void 0?void 0:n[0]);continue}}const u=Nt(r);e=k(e,i,u)}return{defaultData:e}}function zt(t,n){if(!g(t))return;const e=n;if(I(t)){if(t.type==="checkbox"){const r=e;return r===void 0||typeof r=="boolean"?void(t.checked=!!r):void(Array.isArray(r)&&(r.includes(t.value)?t.checked=!0:t.checked=!1))}if(t.type==="radio"){const r=e;return void(t.value===r?t.checked=!0:t.checked=!1)}if(t.type==="file")return t.files=null,void(t.value="")}t.value=String(e!=null?e:"")}function On(t,n){for(const e of t.elements)ot(e)&&Pt(e),g(e)&&e.name&&zt(e,K(n,E(e)))}function Nn(t,n){if(!x(t)&&!x(n)){if(t===null)return n;if(n===null)return t;if(t&&n)return Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]),[...t,...n]}}async function wt(t,n){if(n)return Array.isArray(n)?q(...await Promise.all(n.map(e=>e(t))),Nn):n(t)}function Xt(t,n){return n?Array.isArray(n)?n.reduce((e,r)=>r(e),t):n(t):t}function wn(){}function Gt(t){let n;return function(e,...r){if(e==null)return wn;const i=e.subscribe(...r);return i.unsubscribe?()=>i.unsubscribe():i}(t,e=>n=e)(),n}function ie(t){return function(n,e){var r,i;function o(_){n.validate?n.validate=[...n.validate,_]:n.validate=[_]}function u(_){n.transform?n.transform=[...n.transform,_]:n.transform=[_]}(r=n.extend)!==null&&r!==void 0||(n.extend=[]),(i=n.touchTriggerEvents)!==null&&i!==void 0||(n.touchTriggerEvents={change:!0,blur:!0}),n.validate&&!Array.isArray(n.validate)&&(n.validate=[n.validate]),n.transform&&!Array.isArray(n.transform)&&(n.transform=[n.transform]);const a=Array.isArray(n.extend)?n.extend:[n.extend];let c=[];const{isSubmitting:f,data:h,errors:v,touched:$,isValid:S}=e.stores,L=h.update,vt=h.set;h.update=_=>L(b=>Xt(_(b),n.transform)),h.set=_=>vt(Xt(_,n.transform)),c=a.map(_=>_({errors:v,touched:$,data:h,config:n,addValidator:o,addTransformer:u}));const Jt=function({stores:_,config:b,currentExtenders:M,extender:yt,addValidator:Qt,addTransformer:Yt}){var pt;const{isSubmitting:_t,data:j,touched:R,errors:z}=_;function Tt(m){var A,O,N;const X=(A=m==null?void 0:m.onSubmit)!==null&&A!==void 0?A:b.onSubmit,at=(O=m==null?void 0:m.validate)!==null&&O!==void 0?O:b.validate,Z=(N=m==null?void 0:m.onError)!==null&&N!==void 0?N:b.onError;return async function(tt){tt==null||tt.preventDefault(),_t.set(!0);const B=Gt(j),P=await wt(B,at);if(R.update(T=>F(T,!0)),P&&(z.set(P),jt(P,T=>!!T)))return M.forEach(T=>{var V;return(V=T==null?void 0:T.onSubmitError)===null||V===void 0?void 0:V.call(T,{data:B,errors:P})}),void _t.set(!1);try{await X(B,{form:H,controls:H&&Array.from(H.elements).filter(g),config:Object.assign(Object.assign({},b),m)})}catch(T){if(!Z)throw T;const V=Z(T);V&&(z.set(V),M.forEach(nt=>{var s;return(s=nt==null?void 0:nt.onSubmitError)===null||s===void 0?void 0:s.call(nt,{data:B,errors:V})}))}finally{_t.set(!1)}}}function Q(m,A){const O=A===void 0?m:`${m}[${A}]`;R.update(N=>k(N,O,!0))}function bt(m){j.set(C(m)),H&&On(H,m)}let H,Y=(pt=b.initialValues)!==null&&pt!==void 0?pt:{};const ut=Tt();return{handleSubmit:ut,createSubmitHandler:Tt,reset:function(){bt(C(Y)),R.update(m=>F(m,!1))},setTouched:Q,setError:function(m,A){z.update(O=>k(O,m,A))},setField:function(m,A,O=!0){if(j.update(N=>k(N,m,A)),O&&Q(m),H)for(const N of H.elements){if(!g(N)||!N.name)continue;const X=E(N);if(m===X)return void zt(N,A)}},setFields:bt,validate:async function(){const m=Gt(j);R.update(O=>F(O,!0));const A=await wt(m,b.validate);return z.set(A||{}),A},form:function(m){function A(s){return s({form:m,controls:Array.from(m.elements).filter(g),data:j,errors:z,touched:R,config:b,addValidator:Qt,addTransformer:Yt})}function O(){for(const s of Array.from(m.elements).filter(g)){if(ht(s)||!s.name)continue;let d="value";I(s)&&["checkbox","radio"].includes(s.type)&&(d="checked"),I(s)&&s.type==="file"&&(d="files");const l=Object.getOwnPropertyDescriptor(it(s)?HTMLSelectElement.prototype:Rt(s)?HTMLTextAreaElement.prototype:HTMLInputElement.prototype,d);Object.defineProperty(s,d,{configurable:!0,set(p){var y;if((y=l==null?void 0:l.set)===null||y===void 0||y.call(s,p),I(s)){if(s.type==="checkbox")return X(s);if(s.type==="radio")return at(s);if(s.type==="file")return Z(s)}const w=it(s)?s.value:Nt(s);j.update(Zt=>k(Zt,E(s),w))},get:l==null?void 0:l.get})}}m.requestSubmit||(m.requestSubmit=ut),M=yt.map(A),m.noValidate=!!b.validate;const{defaultData:N}=Ut(m);function X(s){const d=W(s),l=E(s),p=Array.from(m.querySelectorAll(`[name="${s.name}"]`)).filter(y=>!!g(y)&&(d!==void 0?Number(y.dataset.felteIndex)===d:l===E(y)));if(p.length!==0)return p.length===1?j.update(y=>k(y,E(s),s.checked)):j.update(y=>k(y,E(s),p.filter(I).filter(w=>w.checked).map(w=>w.value)))}function at(s){const d=m.querySelectorAll(`[name="${s.name}"]`),l=Array.from(d).find(p=>I(p)&&p.checked);j.update(p=>k(p,E(s),l==null?void 0:l.value))}function Z(s){const d=s.files;j.update(l=>k(l,E(s),s.multiple?Array.from(d!=null?d:[]):d==null?void 0:d[0]))}function tt(s){var d;const l=s.target;if(!l||!g(l)||it(l)||ht(l)||["checkbox","radio","file"].includes(l.type)||!l.name)return;((d=b.touchTriggerEvents)===null||d===void 0?void 0:d.input)&&Q(E(l));const p=Nt(l);j.update(y=>k(y,E(l),p))}function B(s){var d;const l=s.target;l&&g(l)&&!ht(l)&&l.name&&(((d=b.touchTriggerEvents)===null||d===void 0?void 0:d.change)&&Q(E(l)),it(l)&&j.update(p=>k(p,E(l),l.value)),I(l)&&(l.type==="checkbox"&&X(l),l.type==="radio"&&at(l),l.type==="file"&&Z(l)))}function P(s){var d;const l=s.target;l&&g(l)&&!ht(l)&&l.name&&((d=b.touchTriggerEvents)===null||d===void 0?void 0:d.blur)&&Q(E(l))}function T(s){for(const d of s)d.dataset.felteUnsetOnRemove==="true"&&j.update(l=>kn(l,jn(d)))}H=m,Y=$n(C(N),Y),bt(Y),R.set(F(Y,!1));const V=new MutationObserver(function(s){for(const d of s)if(d.type==="childList"){if(d.addedNodes.length>0){if(O(),!Array.from(d.addedNodes).some(y=>!!Bt(y)&&(!!g(y)||Ot(y).length>0)))continue;M.forEach(y=>{var w;return(w=y==null?void 0:y.destroy)===null||w===void 0?void 0:w.call(y)}),M=yt.map(A);const{defaultData:l}=Ut(m),p=F(l,!1);j.update(y=>Ht(y,l)),R.update(y=>Ht(y,p))}if(d.removedNodes.length>0)for(const l of d.removedNodes){if(!Bt(l))continue;const p=Ot(l);p.length!==0&&(M.forEach(y=>{var w;return(w=y==null?void 0:y.destroy)===null||w===void 0?void 0:w.call(y)}),M=yt.map(A),T(p))}}});V.observe(m,{childList:!0,subtree:!0}),O(),m.addEventListener("input",tt),m.addEventListener("change",B),m.addEventListener("focusout",P),m.addEventListener("submit",ut);const nt=z.subscribe(s=>{for(const d of m.elements){if(!g(d)||!d.name)continue;const l=K(s,E(d)),p=Array.isArray(l)?l.join(`
`):typeof l=="string"?l:void 0;p!==d.dataset.felteValidationMessage&&(p?d.dataset.felteValidationMessage=p:delete d.dataset.felteValidationMessage)}});return{destroy(){V.disconnect(),m.removeEventListener("input",tt),m.removeEventListener("change",B),m.removeEventListener("focusout",P),m.removeEventListener("submit",ut),nt(),M.forEach(s=>{var d;return(d=s==null?void 0:s.destroy)===null||d===void 0?void 0:d.call(s)})}}}}}({currentExtenders:c,extender:a,config:n,addValidator:o,addTransformer:u,stores:{data:h,errors:v,touched:$,isValid:S,isSubmitting:f}});function Kt(_,b){if(!x(_))return _!==b}function Wt(_,b){if(!x(_))return b||_}return Object.assign({data:Object.assign(Object.assign({},h),{set:function(_){return $.update(b=>{const M=q(C(_),n.initialValues,Kt);return q(M,b,Wt)}),h.set(_)}}),errors:v,touched:$,isValid:S,isSubmitting:f},Jt)}(t,{stores:function(n){const e=F(n.initialValues||{},!1),r=rt(e),i=rt(n.initialValues?C(n.initialValues):{}),o=rt({},h=>i.subscribe(async function(v){let $={};n.validate&&v&&($=await wt(v,n.validate),h($||{}))}));function u(h,v){if(!x(v)){if(Array.isArray(v)){if(v.some(x))return;const $=Array.isArray(h)?h:[];return v.map((S,L)=>S&&$[L]||null)}return v&&h||null}}const{subscribe:a}=It([o,r],([h,v])=>q(h,v,u));let c=!1;const f=It(o,h=>!n.validate||(c?!jt(h,v=>!!v):(c=!0,!1)));return{touched:r,isSubmitting:rt(!1),isValid:f,errors:{subscribe:a,set:o.set,update:o.update},data:i}}(t)})}export{zn as A,tn as B,rt as C,Jn as D,Mn as E,Cn as F,Dn as G,Vn as H,Tn as I,cn as J,D as K,Fn as L,Ln as M,ie as N,re as S,fn as a,Rn as b,Bn as c,sn as d,ln as e,qn as f,hn as g,Un as h,ee as i,te as j,In as k,Hn as l,ne as m,Pn as n,bn as o,Yn as p,Zn as q,Kn as r,nn as s,xt as t,Qn as u,gn as v,Wn as w,_n as x,Gn as y,Xn as z};
